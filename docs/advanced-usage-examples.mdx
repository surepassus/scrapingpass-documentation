---
sidebar_position: 3
---

# Advanced Usage Examples

This section holds examples on achieving different implementations and methodologies using Scrapingpass API.

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeBlock from '@theme/CodeBlock';

import HTTPRestAPIHTMLJSRenderingCURL from '!!raw-loader!./snippets/api-usage-examples/http-rest-api/_html-js-rendering-curl';
import HTTPRestAPIHTMLJSRenderingPython from '!!raw-loader!./snippets/api-usage-examples/http-rest-api/_html-js-rendering-python';
import HTTPRestAPIPDFJSRenderingCURL from '!!raw-loader!./snippets/api-usage-examples/http-rest-api/_pdf-js-rendering-curl';
import HTTPRestAPIPDFJSRenderingPython from '!!raw-loader!./snippets/api-usage-examples/http-rest-api/_pdf-js-rendering-python';
import HTTPRestAPIForwardHeadersCURL from '!!raw-loader!./snippets/api-usage-examples/http-rest-api/_forward-headers-curl';
import HTTPRestAPIForwardHeadersPython from '!!raw-loader!./snippets/api-usage-examples/http-rest-api/_forward-headers-python';
import HTTPRestAPIPOSTRequestCURL from '!!raw-loader!./snippets/api-usage-examples/http-rest-api/_post-request-curl';
import HTTPRestAPIPOSTRequestPython from '!!raw-loader!./snippets/api-usage-examples/http-rest-api/_post-request-python';

import HTTPProxyModeHTMLJSRenderingCURL from '!!raw-loader!./snippets/api-usage-examples/http-proxy-mode/_html-js-rendering-curl';
import HTTPProxyModeHTMLJSRenderingPython from '!!raw-loader!./snippets/api-usage-examples/http-proxy-mode/_html-js-rendering-python';
import HTTPProxyModePDFJSRenderingCURL from '!!raw-loader!./snippets/api-usage-examples/http-proxy-mode/_pdf-js-rendering-curl';
import HTTPProxyModePDFJSRenderingPython from '!!raw-loader!./snippets/api-usage-examples/http-proxy-mode/_pdf-js-rendering-python';
import HTTPProxyModeForwardHeadersCURL from '!!raw-loader!./snippets/api-usage-examples/http-proxy-mode/_forward-headers-curl';
import HTTPProxyModeForwardHeadersPython from '!!raw-loader!./snippets/api-usage-examples/http-proxy-mode/_forward-headers-python';
import HTTPProxyModePOSTRequestCURL from '!!raw-loader!./snippets/api-usage-examples/http-proxy-mode/_post-request-curl';
import HTTPProxyModePOSTRequestPython from '!!raw-loader!./snippets/api-usage-examples/http-proxy-mode/_post-request-python';

## JS Rendering

Sometimes its required to make use of headless browsers aka JS Rendering for client side rendered web applications. Scrapingpass provides lets you get either HTML or screenshot, PDF, etc through JS Rendering.

### HTML through JS Rendering

- #### HTTP REST API

<Tabs>
    <TabItem value="curl" label="cURL" default>
        <CodeBlock className="language-shell">{HTTPRestAPIHTMLJSRenderingCURL}</CodeBlock>
    </TabItem>
    <TabItem value="python" label="Python">
        <CodeBlock className="language-python">{HTTPRestAPIHTMLJSRenderingPython}</CodeBlock>
    </TabItem>
</Tabs>

- #### HTTP Proxy Mode

<Tabs>
    <TabItem value="curl" label="cURL" default>
        <CodeBlock className="language-shell">{HTTPProxyModeHTMLJSRenderingCURL}</CodeBlock>
    </TabItem>
    <TabItem value="python" label="Python">
        <CodeBlock className="language-python">{HTTPProxyModeHTMLJSRenderingPython}</CodeBlock>
    </TabItem>
</Tabs>

### PDF through JS Rendering

- #### HTTP REST API

<Tabs>
    <TabItem value="curl" label="cURL" default>
        <CodeBlock className="language-shell">{HTTPRestAPIPDFJSRenderingCURL}</CodeBlock>
    </TabItem>
    <TabItem value="python" label="Python">
        <CodeBlock className="language-python">{HTTPRestAPIPDFJSRenderingPython}</CodeBlock>
    </TabItem>
</Tabs>

- #### HTTP Proxy Mode

<Tabs>
    <TabItem value="curl" label="cURL" default>
        <CodeBlock className="language-shell">{HTTPProxyModePDFJSRenderingCURL}</CodeBlock>
    </TabItem>
    <TabItem value="python" label="Python">
        <CodeBlock className="language-python">{HTTPProxyModePDFJSRenderingPython}</CodeBlock>
    </TabItem>
</Tabs>

## Forwarding Headers

Scrapingpass allows you to forward any desired set of headers to the remote. To forward headers, you need to specify `forward_headers=true` and Scrapingpass will smartly guess the headers to forward while dropping the headers which would have meant for Scrapingpass API itself. However, please do note that this way can be slightly error prone. If you experience any issue, you may use other following rigorous ways of forwarding headers.

To ensure that all correct headers are forwarded to the remote, you can also prefix the headers you wish forward with `Sp-` and Scrapingpass will automatically strip the Sp- prefix and forward it to remote. For example, if you wish to forward `Referer: https://example.com/` header, you can include it as header `Sp-Referer: https://example.com/` while making request to Scrapingpass API and it will forward correct Referer header to the remote. Note that using this way, Scrapingpass will always forward headers prefixed with Sp- independent whatever specified to forward_headers.

:::tip
If you're using [HTTP Proxy Mode](/getting-started/proxy-mode#http-proxy-mode) then you don't need to do anything special. You can specify headers as same way as if you were sending request directly to the remote yourself.
:::

- #### HTTP REST API

<Tabs>
    <TabItem value="curl" label="cURL" default>
        <CodeBlock className="language-shell">{HTTPRestAPIForwardHeadersCURL}</CodeBlock>
    </TabItem>
    <TabItem value="python" label="Python">
        <CodeBlock className="language-python">{HTTPRestAPIForwardHeadersPython}</CodeBlock>
    </TabItem>
</Tabs>

- #### HTTP Proxy Mode

<Tabs>
    <TabItem value="curl" label="cURL" default>
        <CodeBlock className="language-shell">{HTTPProxyModeForwardHeadersCURL}</CodeBlock>
    </TabItem>
    <TabItem value="python" label="Python">
        <CodeBlock className="language-python">{HTTPProxyModeForwardHeadersPython}</CodeBlock>
    </TabItem>
</Tabs>

## Making POST/PUT Requests

When its required to capture the state after some kind of form submit which usually involves making POST/PUT requests to remote along with some form data. Scrapingpass allows you to easily achieve this.

You simply need to make request to API with POST/PUT method along with your request body or form data. Scrapingpass will transparently forward the same request body to remote while making POST/PUT request.

- #### HTTP REST API

<Tabs>
    <TabItem value="curl" label="cURL" default>
        <CodeBlock className="language-shell">{HTTPRestAPIPOSTRequestCURL}</CodeBlock>
    </TabItem>
    <TabItem value="python" label="Python">
        <CodeBlock className="language-python">{HTTPRestAPIPOSTRequestPython}</CodeBlock>
    </TabItem>
</Tabs>

- #### HTTP Proxy Mode

<Tabs>
    <TabItem value="curl" label="cURL" default>
        <CodeBlock className="language-shell">{HTTPProxyModePOSTRequestCURL}</CodeBlock>
    </TabItem>
    <TabItem value="python" label="Python">
        <CodeBlock className="language-python">{HTTPProxyModePOSTRequestPython}</CodeBlock>
    </TabItem>
</Tabs>
